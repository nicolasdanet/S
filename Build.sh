#! /usr/bin/env bash

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

# Must be executed at the same level.

rep=$(pwd); [ "${0%/*}" = "." ] || exit 1

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

# Basic platform handler.

case "$OSTYPE"  in
    darwin*)    cd Spaghettis/Builds/MacOSX ;
                xcodebuild -configuration Release ;
                rm -r build/XCBuildData ;
                rm -r build/Spaghettis.build ;;
    linux*)     cd Spaghettis/Builds/LinuxMakefile ;
                make CONFIG=Release ;
                rm -r build/intermediate ;
                cp -rf "${rep}/Spaghettis/Resources/Help" "build/" ;;
    *)          exit 1 ;;
esac

# ------------------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------------

