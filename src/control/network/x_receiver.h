
/* Copyright (c) 1997-2020 Miller Puckette and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

#ifndef X_RECEIVER_H_
#define X_RECEIVER_H_

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

typedef void (*t_notifyfn)  (void *owner, int fd);
typedef void (*t_receivefn) (void *owner, t_buffer *b);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

PD_LOCAL t_receiver *receiver_new       (void *owner,
                                            int fd,
                                            t_notifyfn notify,      /* Socket closed. */
                                            t_receivefn receive,    /* Data received. */
                                            int isBinary);

PD_LOCAL void       receiver_free       (t_receiver *x);
PD_LOCAL int        receiver_isClosed   (t_receiver *x);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

#endif // X_RECEIVER_H_
