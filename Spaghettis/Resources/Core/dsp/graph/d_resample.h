
/* Copyright (c) 1997 Miller Puckette and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

#ifndef D_RESAMPLE_H_
#define D_RESAMPLE_H_

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

typedef struct _resample {
    int         r_type;                 /* Type of upsampling method. */
    int         r_downsample;           /* Downsampling factor. */
    int         r_upsample;             /* Upsampling factor. */
    int         r_allocated;            /* Size of allocated resampled vector signal. */
    t_sample    *r_vector;              /* Resampled vector signal. */
    t_object    *r_owner;
    } t_resample;

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

PD_LOCAL void   resample_init           (t_resample *x, t_object *owner, t_symbol *type);
PD_LOCAL void   resample_free           (t_resample *x);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

PD_LOCAL int    resample_isRequired     (t_resample *x);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

PD_LOCAL void   resample_set            (t_resample *x, int downsample, int upsample);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

PD_LOCAL t_sample   *resample_getBufferInlet    (t_resample *x,
                                                    t_sample *s,
                                                    int vectorSize,
                                                    int resampledSize);
                                                    
PD_LOCAL t_sample   *resample_getBufferOutlet   (t_resample *x,
                                                    t_sample *s,
                                                    int vectorSize,
                                                    int resampledSize);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#endif // D_RESAMPLE_H_
