
/* Copyright (c) 2021 Nicolas Danet. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

class Logger {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

public:
    enum class Type { normal, system, warning, error };

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

using MessagesElement = std::tuple<juce::String, Logger::Type, Unique>;
using MessagesPacket  = std::vector<Logger::MessagesElement>;

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

enum {
    MESSAGE = 0,
    TYPE,
    UNIQUE
};
    
// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

public:
    virtual ~Logger()
    {
    }

protected:
    Logger() = default;
    
    Logger (const Logger&) = default;
    Logger (Logger&&) = default;
    Logger& operator = (const Logger&) = default;
    Logger& operator = (Logger&&) = default;

public:
    virtual void logMessage (MessagesPacket& m) = 0;

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

public:
    static juce::String getText (const MessagesElement& e)
    {
        return std::get<MESSAGE> (e);
    }
    
    static Type getType (const MessagesElement& e)
    {
        return std::get<TYPE> (e);
    }
    
    static Unique getUnique (const MessagesElement& e)
    {
        return std::get<UNIQUE> (e);
    }
};

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

} // namespace spaghettis

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
