
/* Copyright (c) 1997 Miller Puckette and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

#ifndef X_MICA_H_
#define X_MICA_H_

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

#include "../../m_spaghettis.h"

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

#if PD_WITH_BELLE

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

PD_LOCAL t_symbol   *concept_tagParsed      (int argc, t_atom *argv);
PD_LOCAL t_symbol   *concept_tag            (mica::Concept c);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

PD_LOCAL mica::Concept  concept_fetch       (t_symbol *s);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

PD_LOCAL void   *micaset_new                (t_symbol *s, int argc, t_atom *argv);
PD_LOCAL void   *micaget_new                (t_symbol *s, int argc, t_atom *argv);
PD_LOCAL void   *micainfo_new               (t_symbol *s, int argc, t_atom *argv);
PD_LOCAL void   *micasequence_new           (t_symbol *s, int argc, t_atom *argv);
PD_LOCAL void   *micamap_new                (t_symbol *s, int argc, t_atom *argv);
PD_LOCAL void   *micaindex_new              (t_symbol *s, int argc, t_atom *argv);
PD_LOCAL void   *micaitem_new               (t_symbol *s, int argc, t_atom *argv);
PD_LOCAL void   *micainterval_new           (t_symbol *s, int argc, t_atom *argv);
PD_LOCAL void   *micaspell_new              (t_symbol *s, int argc, t_atom *argv);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

typedef struct _micabase {
    t_object    x_obj;                      /* Must be the first. */
    t_symbol    *x_tag;
    } t_micabase;

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

PD_LOCAL t_buffer   *micabase_functionData  (t_object *z, int flags);

PD_LOCAL void       micabase_restore        (t_micabase *x, t_symbol *s);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

#endif // PD_WITH_BELLE

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

#endif // X_MICA_H_
