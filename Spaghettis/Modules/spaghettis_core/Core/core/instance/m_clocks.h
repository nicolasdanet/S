
/* Copyright (c) 1997 Miller Puckette and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

#ifndef M_CLOCKS_H_
#define M_CLOCKS_H_

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

/* A simple non-blocking bounded collection of pointers to manage clocks. */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

#define CLOCKS_EXPERIMENTAL         1

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

PD_LOCAL t_clocks   *clocks_new     (void);

PD_LOCAL void       clocks_free     (t_clocks *x);
PD_LOCAL int        clocks_shrink   (t_clocks *x);
PD_LOCAL void       clocks_clean    (t_clocks *x);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

PD_LOCAL void       clocks_add      (t_clocks *x, t_clock *c);
PD_LOCAL void       clocks_remove   (t_clocks *x, t_clock *c);
PD_LOCAL void       clocks_destroy  (t_clocks *x, t_clock *c);
PD_LOCAL void       clocks_tick     (t_clocks *x, t_systime systime);

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#endif // M_CLOCKS_H_
