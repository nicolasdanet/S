
/* Copyright (c) 2022 Jojo and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace core {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void Parameter::changeValue (const juce::var& v)
{
    /*
    const juce::var& oldValue (t.getProperty (Ids::value));
    
    if (!oldValue.equals (newValue)) {
        t.setProperty (Ids::value, Parameters::Base (t).constrained (newValue), nullptr);
    }
    */
}
    
// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

juce::String Parameter::getKey() const
{
    return parameter_.getProperty (Ids::key).toString();
}

juce::var Parameter::getValue() const
{
    return parameter_.getProperty (Ids::value);
}
 
// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

Parameter& Parameter::setText (const juce::String& s)
{
    parameter_.setProperty (Ids::text, s, nullptr);
    
    return *this;
}

Parameter& Parameter::setInfo (const juce::String& s)
{
    parameter_.setProperty (Ids::info, s, nullptr);
    
    return *this;
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

bool Parameter::isValid() const
{
    return (parameter_.hasType (Ids::PARAMETER)
                && parameter_.getProperty (Ids::key).isString()
                && parameter_.getProperty (Ids::text).isString()
                && parameter_.getProperty (Ids::info).isString()
                && parameter_.getProperty (Ids::type).isString()
                && parameter_.hasProperty (Ids::value));
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

} // namespace core

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

} // namespace spaghettis

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
