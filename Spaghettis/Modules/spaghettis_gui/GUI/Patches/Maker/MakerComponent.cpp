
/* Copyright (c) 2023 Jojo and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

MakerComponent::MakerComponent (EditView* view) :
    v_(),
    entry_ (v_, view),
    list_ (v_),
    documentation_ (v_)
{
    addAndMakeVisible (entry_);
    addAndMakeVisible (list_);
    addAndMakeVisible (documentation_);
    
    setOpaque (true); setSize (700, 300);
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

namespace {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

int getMakerEntryHeight()
{
    return static_cast<int> (Spaghettis()->getLookAndFeel().getMakerEntryFont().getHeight() * 1.75);
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void MakerComponent::paint (juce::Graphics& g)
{
    g.fillAll (Spaghettis()->getColour (Colours::callOutBoxBackground));
}

void MakerComponent::resized()
{
    juce::Rectangle<int> area (getLocalBounds().withTrimmedTop (margin_)
                                               .withTrimmedBottom (margin_)
                                               .withTrimmedLeft (margin_)
                                               .withTrimmedRight (margin_ - 1));
    
    entry_.setBounds (area.removeFromTop (getMakerEntryHeight()).reduced (space_).withTrimmedRight (1));
    list_.setBounds (area.removeFromLeft (area.getWidth() / 3).reduced (space_));
    documentation_.setBounds (area.reduced (space_));
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
