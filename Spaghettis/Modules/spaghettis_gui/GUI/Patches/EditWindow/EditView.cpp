
/* Copyright (c) 2022 Jojo and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

bool isChildOf (const juce::ValueTree& t, juce::ValueTree& child)
{
    return (child.getParent() == t);
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void EditView::valueTreePropertyChanged (juce::ValueTree& t, const juce::Identifier& i)
{
    DBG ("Property Changed");
}

void EditView::valueTreeChildAdded (juce::ValueTree& t, juce::ValueTree& child)
{
    if (isChildOf (tree_, child) && child.hasType (Ids::OBJECT)) { objects_.add (child); }
}

void EditView::valueTreeChildRemoved (juce::ValueTree& t, juce::ValueTree& child, int)
{
    if (isChildOf (tree_, child) && child.hasType (Ids::OBJECT)) { objects_.remove (child); }
}

void EditView::valueTreeChildOrderChanged (juce::ValueTree&, int, int)
{
    DBG ("Order Changed");
}

void EditView::valueTreeParentChanged (juce::ValueTree&)
{
    DBG ("Parent Changed");
}

void EditView::valueTreeRedirected (juce::ValueTree&)
{
    DBG ("Tree Redirected");
}
    
// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

} // namespace spaghettis

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
