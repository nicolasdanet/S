
/* Copyright (c) 2022 Jojo and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void EditPort::mouseWheelMove (const juce::MouseEvent &e, const juce::MouseWheelDetails &wheel)
{
    const float x = wheel.isReversed ? -wheel.deltaX : wheel.deltaX;
    const float y = wheel.isReversed ? -wheel.deltaY : wheel.deltaY;
    
    scroll (x, y);
}

void EditPort::scroll (float x, float y)
{
    const float step = 100.0f;
    
    x_ += static_cast<int> (x * step);
    y_ += static_cast<int> (y * step);
    
    apply();
}

void EditPort::apply()
{
    view_.setBounds (core::Canvas::getBounds().translated (x_, y_));
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
