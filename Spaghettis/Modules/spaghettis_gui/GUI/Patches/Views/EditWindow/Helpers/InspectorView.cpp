
/* Copyright (c) 2022 Spaghettis and others. */

/* < https://www.gnu.org/licenses/agpl-3.0.en.html > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

InspectorView::InspectorView (Synchronizer&& s, int w) :
    ParametersView (s.getData(),
        PropertyLookAndFeel (Fonts::getFont(), Fonts::getMonospacedFont(), w)),
    sync_ (std::move (s))
{
    sync_.bind (this);
}

InspectorView::~InspectorView()
{
    sync_.unbind (this);
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

/* Called when object is modified by user in parameter view entries. */

void InspectorView::parameterHasChanged (const data::Group& group, const data::Parameter& parameter)
{
    if (group.getName() == Tag::Parameters) {
    //
    Broadcast::parameters (sync_.getIdentifier(), data::Group::makeCopy (group));
    //
    }
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
