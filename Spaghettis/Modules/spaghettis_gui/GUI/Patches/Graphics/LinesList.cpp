
/* Copyright (c) 2022 Jojo and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

namespace {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

auto isSameLineAs (core::UniqueId identifier)
{
    return [i = identifier] (const std::unique_ptr<LineComponent>& p)
    {
        return (p->getIdentifier() == i);
    };
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void LineList::add (const core::Line& line)
{
    v_.push_back (std::make_unique<LineComponent> (owner_, line));
}

void LineList::remove (const core::Line& line)
{
    v_.erase (std::remove_if (v_.begin(), v_.end(), isSameLineAs (line.getIdentifier())), v_.end());
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
