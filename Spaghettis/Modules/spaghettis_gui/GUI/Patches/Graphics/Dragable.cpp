
/* Copyright (c) 2023 Jojo and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

Dragable::Dragable (View* view) : view_ (view), isDrag_ (false)
{
}

Dragable::~Dragable()
{
    if (isDrag_) {
        if (auto view = View::asEditView (view_)) {
            view->handleMouseDragAbort();
        }
    }
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void Dragable::handleMouseDrag (const juce::MouseEvent& e, DragFlag flag)
{
    isDrag_ = true;  if (auto view = View::asEditView (view_)) { view->handleMouseDrag (e, flag); }
}

void Dragable::handleMouseUp (const juce::MouseEvent& e)
{
    isDrag_ = false; if (auto view = View::asEditView (view_)) { view->handleMouseUp (e); }
}
    
// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
