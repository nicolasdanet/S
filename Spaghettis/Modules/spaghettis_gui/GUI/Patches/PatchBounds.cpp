
/* Copyright (c) 2023 Jojo and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

namespace {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

auto hasSameIdentifier (core::UniqueId u)
{
    return [u](const PatchBoundsElement& e)
    {
        return (e.getUnique() == u);
    };
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void PatchBounds::set (PatchBoundsElement e)
{
    auto r = std::find_if (bounds_.begin(), bounds_.end(), hasSameIdentifier (e.getUnique()));
    
    if (r != bounds_.end()) { *r = e; } else { bounds_.push_back (e); }
}

PatchBoundsElement PatchBounds::get (core::UniqueId u) const
{
    auto r = std::find_if (bounds_.begin(), bounds_.end(), hasSameIdentifier (u));
    
    if (r != bounds_.end()) { return *r; }
    else {
        return PatchBoundsElement (0, core::Point::Real (0, 0), 100);
    }
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
