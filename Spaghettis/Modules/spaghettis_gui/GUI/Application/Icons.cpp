
/* Copyright (c) 2021 Jojo and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

namespace {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

std::unique_ptr<juce::Drawable> getDrawable (const char* name, juce::Colour colour)
{
    int n = 0; const char* data = BinaryData::getNamedResource (name, n);
    jassert (data);
    std::unique_ptr<juce::Drawable> t (juce::Drawable::createFromImageData (data, n));
    t->replaceColour (juce::Colours::black, colour);
    return t;
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void Icons::addIconProceed (const juce::String& name,
    int extra,
    const char* imageOff,
    const char* imageOn,
    bool isToggle,
    bool defaultStateIsOn)
{
    auto t1 (getDrawable (imageOff, Spaghettis()->getColour (Colours::toolbarIconOff)));
    auto t2 (getDrawable (imageOn,  Spaghettis()->getColour (Colours::toolbarIconOn)));
    
    jassert (extra >= 0);
    
    drawables_.emplace_back (name, extra, std::move (t1), std::move (t2), isToggle, defaultStateIsOn);
}
    
// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
