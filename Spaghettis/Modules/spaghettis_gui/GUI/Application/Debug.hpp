
/* Copyright (c) 2021 Nicolas Danet. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

#if JUCE_DEBUG

#define SPAGHETTIS_DEBUG(s)     spaghettis::Debug::logToConsole (s)

#else

#define SPAGHETTIS_DEBUG(s)

#endif

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

struct Debug {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

#if JUCE_DEBUG

static void logToConsole (const juce::String& s)
{
    #if defined (JUCE_MAC) || defined (JUCE_IOS)
    
    core::post_syslog (static_cast<const char*> (s.toUTF8()));
    
    #else
    
    DBG (s);
    
    #endif
}

#endif

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

};

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

} // namespace spaghettis

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
