
/* Copyright (c) 2024 Spaghettis and others. */

/* < https://www.gnu.org/licenses/agpl-3.0.en.html > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

namespace {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

juce::Colour getColourFromFileStatus (const juce::File& f)
{
    if (f.isDirectory()) { return Colours::fetchColour (Colours::parametersDirectoryText); }

    return Colours::fetchColour (Colours::parametersDirectoryTextWrong);
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void DirectoryEditor::paint (juce::Graphics& g)
{
    const juce::File f (value_.toString());
    const juce::Rectangle<int> r (getLocalBounds().reduced (4, 2));
    const juce::String text (f.getFullPathName());
    
    g.fillAll (Colours::fetchColour (Colours::parametersColourBackground));
    g.setFont (font_);
    g.setColour (getColourFromFileStatus (f));
    g.drawText (text, r, juce::Justification::centredLeft, true);
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void DirectoryEditor::mouseDown (const juce::MouseEvent&)
{
    if (isEnabled()) { }
}
    
// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
