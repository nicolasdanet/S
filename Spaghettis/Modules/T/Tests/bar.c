
// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

#include <unistd.h>

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

void *threadedTest (void *x)
{
    int threadNumber = (int)(long)x + 1;
    
    ttt_stdout (TTT_COLOR_NONE, "### Thread %d", threadNumber);
    
    return NULL;
}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

TTT_BEGIN_ALLOW (FooThread, "Thread")                       /* Allowed to fail. */

ttt_testThreadsLaunch (threadedTest);                       /* Launch one thread per CPU. */
TTT_EXPECT (0 + 0 == 1);

TTT_END

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

TTT_BEGIN (FooTime, "Time")

ttt_timeTrigger();
sleep (1);
ttt_stdout (TTT_COLOR_BLUE, "%f", ttt_timeTrigger());       /* Measure time spent in milliseconds. */

TTT_END

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
