
/* Copyright (c) 2021 Jojo and others. */

/* < https://opensource.org/licenses/BSD-3-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace spaghettis {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

class BaseComponentToolbar {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

public:
    BaseComponentToolbar (IconsFactory* factory,
        juce::PropertiesFile& propertiesFile,
        const juce::String& key);
    
    ~BaseComponentToolbar();

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

public:
    bool hasToolbar() const;
    
    void makeVisible (juce::Component&);
    
// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

public:
    bool getButtonState (int itemId);
    void setButtonState (int itemId, bool shouldBeOn);      /* Does NOT trigger the associated action. */

public:
    bool toggleButtonState (int itemId);                    /* Ditto. */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

public:
    void loadToolbarButtonsStates();
    void saveToolbarButtonsStates();

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

public:
    juce::Rectangle<int> getToolbarBounds() const;
    
    void setToolbarBounds (const juce::Rectangle<int>& bounds);
    
// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

private:
    juce::PropertiesFile& propertiesFile_;
    juce::String keyName_;
    std::unique_ptr<juce::Toolbar> toolbar_;
        
private:
    JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR (BaseComponentToolbar)
};

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

}

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

